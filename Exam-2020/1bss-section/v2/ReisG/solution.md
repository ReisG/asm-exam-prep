Секция bss была расположена по адресу `0x00102030` по этому этот адрес будет вставлен в память, доступную по символу `tasty`.

# Можно честно посчитать.

В памяти секция `.data` будет лежать следующим образом
```shell
wow         tasty
↓           ↓
34 12 af be 30 20 10 00
```

После выпонения первой команды мы пролучим доступ к байту `be`. Значение eax будет `eax = 0xffffffbe`.

Далее вы вычитаем из ax `0x4321`. Должны указать флаги.
```shell
    ffbe
-   4321
    ____
    bc9d

CF = 0 (Мы не занимали из следующего разряда)
OF = CF ^ lastcarry = 0 ^ 0 = 0 (lastcarry - факт переноса в самый старший разряд)
ZF = 0 (Получили ненулевое значение)
SF = b > 7 = 1 (Старший бит - единичка)
eax = 0xffffbc9d
```

В третьей команду мы меняем местами регистр `ah` и байт `20` (подробнее про команду [xchg](https://www.felixcloutier.com/x86/xchg))

```shell
eax = 0xffff209d
```

Получаем ответ
```shell
0xffffffbe
0xffffbc9d
0xffff209d
0001
```

# Дебагер
Можно не очень честно, то есть просто переписать код, с заменой `beaf` в `.data` на адрес блока `.bss`. получим следующий код:

```nasm
section .data
    wow dw 0x1234, 0xbeaf
    tasty dd 0x00102030

section .bss
    beaf resd 1

section .text
global main
main:
    movsx eax, byte[wow + 3]
    sub ax, 0x4321
    xchg ah, byte[tasty + 1]
    xor eax, eax
    ret
```

Собираем код с символами для дебага
```
$ nasm main.asm -o main.o -f elf32 -g && gcc main.o -o main -m32 -g 
```

Запускаем программу через `gdb`, ставим breakpoint на символ `main` и запускаем. 

```shell
$ gdb main
$ break main
$ run
```


Используя команду `n` (aka `next`) походим до первой интересующией нас команды (перед её выполнением она появиться в консоли). Выполняем её с помощью `$ n`. Сейчас нам нужно извлечь содержимое `eax`. Для этого пишем

```shell
$ p/x $eax
```

Получаем результат:
```shell
$1 = 0xffffffbe
```

Выполняем следующую команду c помощью `n`. Теперь хотим извлечь поднятые флаги. Для этого пишем
```shell
$ p $eflags
```

Получаем
```shell
$2 = [ SF IF ]
```

Далее выполняем следующую команду и извлекаем значение регистра `eax`. Получаем следующее

```shell
$3 = 0xffff209d
```

Итого имеем ответ
```shell
0xffffffbe
0xffffbc9d
0xffff209d
0001
```

## Замечания
- Когда мы выполняли команды `p/x $eax`, выписывая символ `x` мы показывали, что хотим получить hex запись значения. Там есть и другие флажки
- Чтобы выйти из дебагера, нужно выполнить команду `exit`. Одним из вариантов экстренного выхода из приложения является выход по сочетанию клавиш `CTRL + C`.